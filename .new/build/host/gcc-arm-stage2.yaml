
name: host-gcc-arm-stage2
source: gcc@10.2.0
dependency:
  - tmp-autoconf-gcc-2.69
  - tmp-automake-gcc-1.15.1
  - host-binutils-arm
  - host-newlib-arm
path:
  - '{PREFIX}/bin'
  - '{PREFIX}/../build/tmp/gcc-build/bin'
configure:
  - folder: '{SOURCE_DIR}/libstdc++-v3'
    command: autoconf
  - folder: '{SOURCE_DIR}/gcc'
    command: autoconf
prepare:
  - '{SOURCE_DIR}/configure --target=arm-unknown-bolthur-eabi --prefix={PREFIX} --disable-nls --enable-languages=c,c++ --disable-werror --disable-libssp --with-newlib --with-sysroot={SYSROOT}/arm-unknown-bolthur-eabi --with-pkgversion="GCC; bolthur bootstrap cross" --disable-shared --with-multilib-list=aprofile,rmprofile'
build:
  - 'make all-gcc -j{CPU_COUNT}'
  - 'make all-target-libgcc -j{CPU_COUNT}'
#  - 'make all-target-libstdc++-v3 -j{CPU_COUNT}'
install:
  - 'make install-strip-gcc -j{CPU_COUNT}'
  - 'make install-strip-target-libgcc -j{CPU_COUNT}'
#  - 'make install-strip-target-libstdc++-v3 -j${CPU_COUNT}'
